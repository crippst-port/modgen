{{!
    Module exploration template - displays pedagogical insights and learning analysis.
    
    @package     aiplacement_modgen
    @copyright   2025 Tom Cripps <tom.cripps@port.ac.uk>
    @license     https://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
}}
<div class="container-fluid mt-4 mb-4">
    <div class="row">
        <div class="col-12 col-lg-10 offset-lg-1">
            
            <div class="card mb-4">
                <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                    <h5 class="mb-0">ðŸ“‹ Activity Summary</h5>
                    <button id="download-report-btn" class="btn btn-sm btn-light" title="Download report as PDF">
                        <i class="fa fa-download"></i> Download PDF
                    </button>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <ul class="list-unstyled mb-0">
                                {{#activity_summary}}
                                <li class="mb-2"><strong>{{name}}:</strong> {{count}}</li>
                                {{/activity_summary}}
                            </ul>
                        </div>
                        {{#chart_data.hasActivities}}
                        <div class="col-md-6 text-center">
                            <canvas id="learning-types-chart" style="max-width: 250px; margin: 0 auto;"></canvas>
                        </div>
                        {{/chart_data.hasActivities}}
                    </div>
                </div>
            </div>
           
            
            <div id="exploration-insights">
                <div class="text-center py-5">
                    <div class="spinner-border text-primary mb-3" role="status">
                        <span class="sr-only">Loading...</span>
                    </div>
                    <p class="text-muted">{{loadingmessage}}</p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
/* Exploration sections styling */
.exploration-sections {
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.exploration-section {
    background-color: #fff;
    border-left: 4px solid #0066cc;
    border-radius: 0.25rem;
    box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
    transition: box-shadow 0.3s ease;
}

.exploration-section .exploration-title {
    margin: 0;
    padding: 1.25rem;
    background-color: #f8f9fa;
    color: #0066cc;
    font-size: 1.25rem;
    font-weight: 600;
    border-bottom: 1px solid #dee2e6;
    border-radius: 0.25rem 0.25rem 0 0;
}

.exploration-content {
    padding: 1.5rem;
    line-height: 1.6;
    color: #212529;
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 0.9375rem;
}

.exploration-content p {
    margin-bottom: 1rem;
}

.exploration-content p:last-child {
    margin-bottom: 0;
}

.exploration-content ul,
.exploration-content ol {
    margin-bottom: 1rem;
    padding-left: 2rem;
}

.exploration-content li {
    margin-bottom: 0.5rem;
}

.exploration-content li:last-child {
    margin-bottom: 0;
}

.exploration-content h1,
.exploration-content h2,
.exploration-content h3,
.exploration-content h4,
.exploration-content h5,
.exploration-content h6 {
    margin-top: 1.5rem;
    margin-bottom: 0.75rem;
    font-weight: 600;
    color: #212529;
}

.exploration-content h1 {
    font-size: 1.5rem;
}

.exploration-content h2 {
    font-size: 1.25rem;
}

.exploration-content h3 {
    font-size: 1.1rem;
}

.exploration-content strong,
.exploration-content b {
    font-weight: 600;
    color: #0066cc;
}

.exploration-content em,
.exploration-content i {
    font-style: italic;
}

.exploration-content code {
    background-color: #f8f9fa;
    padding: 0.125rem 0.25rem;
    border-radius: 0.25rem;
    font-family: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    font-size: 0.875rem;
}

.exploration-content pre {
    background-color: #f8f9fa;
    border: 1px solid #dee2e6;
    border-radius: 0.25rem;
    padding: 1rem;
    overflow-x: auto;
    font-family: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    font-size: 0.825rem;
    line-height: 1.5;
    color: #212529;
    margin-bottom: 1rem;
}

/* Bootstrap spinner override for better visibility */
.spinner-border {
    width: 3rem;
    height: 3rem;
}

.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
}

/* Responsive adjustments */
@media (max-width: 576px) {
    .exploration-content {
        padding: 1rem;
        font-size: 0.875rem;
    }
    
    .exploration-section .exploration-title {
        padding: 1rem;
        font-size: 1.1rem;
    }
}
</style>

